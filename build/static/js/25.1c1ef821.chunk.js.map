{"version":3,"sources":["app/general-pages/Signin.js"],"names":["Signin","_Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","componentDidMount","localStorage","getItem","history","push","handleLogin","handleValidation","username","state","fields","password","x","dataUser","user","forEach","el","level","job","dept","name","id","employeeID","Swal","fire","title","icon","text","showConfirmButton","timer","then","setItem","JSON","stringify","convertJson","submissionData","symptoms","partNumber","rejectCard","inspection","remember_me","_createClass","key","value","e","field","this","errors","target","checked","setState","formIsValid","_this2","React","createElement","className","style","color","action","type","placeholder","onChange","handleChange","Link","to","onClick","backgroundColor","href","Component"],"mappings":"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","file":"static/js/25.1c1ef821.chunk.js","sourcesContent":["import React, { Component } from 'react'\nimport { Link } from 'react-router-dom'\nimport Swal from 'sweetalert2';\nimport dataUser from '../commons/jsonFile/user.json';\nimport submissionData from '../commons/jsonFile/submissionData.json';\nimport symptoms from '../commons/jsonFile/symptom.json';\nimport partNumber from '../commons/jsonFile/partsNumber.json';\nimport rejectCard from '../commons/jsonFile/rejectCard.json';\nimport inspection from '../commons/jsonFile/inspection.json';\n\nexport class Signin extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      fields: {\n        username: \"\",\n        password: \"\",\n        remember_me: false\n      },\n      user: dataUser\n    }\n  }\n\n  componentDidMount = () => {\n    const isLogin = localStorage.getItem('isLogin')\n    // console.log(isLogin, 'isLogin')\n    if (isLogin === 'true') {\n      this.props.history.push('/')\n    }\n  }\n\n  handleChange(e, field) {\n    let fields = this.state.fields;\n    const errors = this.state.errors;\n    switch (field) {\n      case 'remember_me':\n        fields[field] = e.target.checked;\n        break;\n      case 'username':\n        fields[field] = e.target.value;\n        this.setState({ errors: errors });\n        break;\n      case 'password':\n        fields[field] = e.target.value;\n        this.setState({ errors: errors });\n        break;\n      default:\n        fields[field] = e.target.value;\n        break;\n    }\n    this.setState({ fields });\n  }\n\n  handleValidation() {\n    let fields = this.state.fields;\n    let errors = {};\n    let formIsValid = true;\n\n    //username\n    if (!fields[\"username\"]) {\n      formIsValid = false;\n      errors[\"username\"] = true;\n    }\n\n    //Password\n    if (!fields[\"password\"]) {\n      formIsValid = false;\n      errors[\"password\"] = true;\n    }\n\n    this.setState({ errors: errors });\n    return formIsValid;\n  }\n\n  handleLogin = () => {\n    if (this.handleValidation()) {\n      const username = this.state.fields.username\n      const password = this.state.fields.password\n      if (username && password) {\n        var x = 0\n        var dataUser = {}\n        this.state.user.forEach(el => {\n          if (username === el.user && password === el.password) {\n            dataUser = {\n              level: el.level,\n              job: el.job,\n              dept: el.dept,\n              name: el.name,\n              id: el.employeeID\n            }\n            x++;\n          }\n        });\n        if (x > 0) {\n          Swal.fire({\n            title: 'Success!',\n            icon: 'success',\n            text: 'Login Success.',\n            showConfirmButton: false,\n            timer: 1500\n          })\n            .then(() => {\n              localStorage.setItem('isLogin', true);\n              localStorage.setItem('dataUser', JSON.stringify(dataUser));\n              const cekExisting = localStorage.getItem('dataSubmission');\n              if(cekExisting === null){\n                const convertJson = JSON.stringify(submissionData);\n                localStorage.setItem('dataSubmission', convertJson);\n              }              \n              const cekSymptoms = localStorage.getItem('dataSymptoms');\n              if(cekSymptoms === null){\n                const convertJson = JSON.stringify(symptoms);\n                localStorage.setItem('dataSymptoms', convertJson);\n              }              \n              const cekPartNumber = localStorage.getItem('dataPartNumber');\n              if(cekPartNumber === null){\n                const convertJson = JSON.stringify(partNumber);\n                localStorage.setItem('dataPartNumber', convertJson);\n              }   \n              const cekRejectCard = localStorage.getItem('dataRc');\n              if(cekRejectCard === null){\n                const convertJson = JSON.stringify(rejectCard);\n                localStorage.setItem('dataRc', convertJson);\n              }    \n              const cekInspection = localStorage.getItem('dataInspection');\n              if(cekInspection === null){\n                const convertJson = JSON.stringify(inspection);\n                localStorage.setItem('dataInspection', convertJson);\n              }                 \n              this.props.history.push(\"/\")\n            })\n        } else {\n          Swal.fire({\n            title: 'Warning',\n            icon: 'warning',\n            text: 'Username & password are incorrect',\n          });\n\n        }\n      } else {\n        Swal.fire({\n          title: 'Warning',\n          icon: 'warning',\n          text: 'Username & password are incorrect',\n        });\n      }\n    } else {\n      Swal.fire({\n        title: 'Warning',\n        icon: 'warning',\n        text: 'Username & password are incorrect',\n      });\n    }\n  }\n\n  render() {\n    return (\n      <div className='bg-signin'>\n        <div className=\"az-signin-wrapper\">\n          <div className=\"az-card-signin\">\n            {/* <img\n              src={require(\"../../assets/images/logo-5-sm.png\")}\n              alt=\"\"\n              className='img-logo'\n            ></img>\n            <h1 className=\"az-logo-text\">\n              Center of Excellence\n            </h1> */}\n            <div className=\"az-signin-header\">\n              <h2 style={{color: '#e4051c'}}>Welcome</h2>\n              <h4>Please sign in to continue</h4>\n\n              <form action=\"#/\">\n                <div className=\"form-group\">\n                  <label>Username</label>\n                  <input type=\"text\" className=\"form-control\" placeholder=\"Enter your username\" name=\"username\" value={this.state.fields[\"username\"]} onChange={(e) => this.handleChange(e, 'username')} />\n                </div>{/* form-group */}\n                <div className=\"form-group\">\n                  <label>Password</label>\n                  <input type=\"password\" className=\"form-control\" placeholder=\"Enter your password\" name=\"password\" value={this.state.fields[\"password\"]} onChange={(e) => this.handleChange(e, 'password')} />\n                </div>{/* form-group */}\n                <Link to=\"#/\" onClick={this.handleLogin} className=\"btn btn-az-primary btn-block\" style={{backgroundColor: '#e4051c'}}>Sign In</Link>\n              </form>\n            </div>{/* az-signin-header */}\n            <div className=\"az-signin-footer\">\n              <p><a href=\"#/\">Forgot password?</a></p>\n            </div>{/* az-signin-footer */}\n          </div>{/* az-card-signin */}\n        </div>{/* az-signin-wrapper */}\n      </div>\n    )\n  }\n}\n\nexport default Signin\n"],"sourceRoot":""}